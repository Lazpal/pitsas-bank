<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pitsas Camp - Εικονική Τράπεζα</title>
    <link rel="icon" type="image/png" href="img/favicon.png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="styles.css">
    <script src="production-config.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div id="login-container" class="container-fluid vh-100 d-flex align-items-center justify-content-center">
        <div class="card shadow-lg p-4 col-md-4">
            <div class="text-center mb-4">
                <img src="img/logo.png" alt="Pitsas Camp Logo" class="img-fluid camp-logo mb-3" style="max-height: 120px;">
                <h2 class="text-primary">Εικονική Τράπεζα Pitsas Camp</h2>
                <p class="text-muted">Είσοδος Προσωπικού</p>
            </div>
            <form id="login-form">
                <div class="mb-3">
                    <label for="username" class="form-label">Όνομα Χρήστη</label>
                    <input type="text" class="form-control" id="username" autocomplete="username" required>
                </div>
                <div class="mb-3">
                    <label for="password" class="form-label">Κωδικός</label>
                    <input type="password" class="form-control" id="password" autocomplete="current-password" required>
                </div>
                <button type="submit" class="btn btn-primary w-100">Είσοδος</button>
            </form>
            <div class="mt-3 text-center">
                <small class="text-muted">© 2025 Lazaros Paliamaxidis. All rights reserved.</small>
                <br>
                <small class="text-muted">
                    Designed & Developed by 
                    <a href="mailto:pallazarosb@gmail.com" class="text-decoration-none">Lazaros Paliamaxidis</a>
                </small>
            </div>
        </div>
    </div>

    <div id="app-container" class="d-none">
        <nav class="navbar navbar-expand-lg navbar-dark bg-primary shadow-sm">
            <div class="container-fluid">
                <a class="navbar-brand d-flex align-items-center" href="#" id="home-brand">
                    <img src="img/logo.png" alt="Logo" height="35" class="d-inline-block align-text-top me-2">
                    <div>
                        <div class="fw-bold">Pitsas Camp Bank</div>
                        <small class="opacity-75">Εικονική Τράπεζα</small>
                    </div>
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav me-auto">
                        <li class="nav-item">
                            <a class="nav-link active d-flex align-items-center" href="#" id="dashboard-link">
                                <i class="bi bi-house-door me-1"></i>
                                <span>Αρχική</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link d-flex align-items-center" href="#" id="children-link">
                                <i class="bi bi-people me-1"></i>
                                <span>Παιδιά</span>
                                <span class="badge bg-light text-primary ms-2" id="nav-children-count">0</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link d-flex align-items-center" href="#" id="transactions-link">
                                <i class="bi bi-credit-card me-1"></i>
                                <span>Συναλλαγές</span>
                                <span class="badge bg-light text-primary ms-2" id="nav-transactions-today">0</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link d-flex align-items-center" href="#" id="statistics-link">
                                <i class="bi bi-bar-chart me-1"></i>
                                <span>Στατιστικά</span>
                            </a>
                        </li>
                    </ul>
                    
                    <!-- Quick Stats in Navbar -->
                    <div class="navbar-text d-none d-lg-block me-3">
                        <small class="text-light opacity-75">
                            <i class="bi bi-cash-stack me-1"></i>
                            Συνολικό: <span class="fw-bold" id="nav-total-balance">0€</span>
                        </small>
                    </div>
                    
                    <ul class="navbar-nav">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle d-flex align-items-center" href="#" role="button" data-bs-toggle="dropdown">
                                <i class="bi bi-gear me-1"></i>
                                <span class="d-none d-md-inline">Εργαλεία</span>
                            </a>
                            <ul class="dropdown-menu dropdown-menu-end">
                                <li><h6 class="dropdown-header">Γρήγορες Ενέργειες</h6></li>
                                <li><a class="dropdown-item" href="#" id="nav-add-child">
                                    <i class="bi bi-person-plus me-2"></i>Νέο Παιδί
                                </a></li>
                                <li><a class="dropdown-item" href="#" id="nav-quick-search">
                                    <i class="bi bi-search me-2"></i>Αναζήτηση Παιδιού
                                </a></li>
                                <li><a class="dropdown-item" href="#" id="nav-advanced-search">
                                    <i class="bi bi-search-heart me-2"></i>Προηγμένη Αναζήτηση
                                </a></li>
                                <li><a class="dropdown-item" href="#" id="nav-bulk-deposit">
                                    <i class="bi bi-cash-stack me-2"></i>Ομαδική Κατάθεση
                                </a></li>
                                <li><a class="dropdown-item" href="#" id="nav-excel-import">
                                    <i class="bi bi-file-earmark-excel me-2"></i>Εισαγωγή από Excel
                                </a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><h6 class="dropdown-header">Αναφορές</h6></li>
                                <li><a class="dropdown-item" href="#" id="nav-daily-report">
                                    <i class="bi bi-calendar-day me-2"></i>Ημερήσια Αναφορά
                                </a></li>
                                <li><a class="dropdown-item" href="#" id="nav-limits-report">
                                    <i class="bi bi-exclamation-triangle me-2"></i>Αναφορά Ορίων
                                </a></li>
                                <li><a class="dropdown-item" href="#" id="nav-export-stats">
                                    <i class="bi bi-file-earmark-excel me-2"></i>Εξαγωγή Στατιστικών
                                </a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><h6 class="dropdown-header">Διαχείριση</h6></li>
                                <li><a class="dropdown-item" href="#" id="nav-backup">
                                    <i class="bi bi-cloud-download me-2"></i>Αντίγραφο Ασφαλείας
                                </a></li>
                                <li><a class="dropdown-item" href="#" id="nav-reset-limits">
                                    <i class="bi bi-arrow-clockwise me-2"></i>Επαναφορά Ημερήσιων Ορίων
                                </a></li>
                                <li><a class="dropdown-item" href="#" id="nav-settings">
                                    <i class="bi bi-gear me-2"></i>Ρυθμίσεις
                                </a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><a class="dropdown-item" href="#" id="dark-mode-toggle">
                                    <i class="bi bi-moon me-2"></i>Σκοτεινή Λειτουργία
                                </a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><h6 class="dropdown-header">Βοήθεια & Τεκμηρίωση</h6></li>
                                <li><a class="dropdown-item" href="#" id="nav-documentation">
                                    <i class="bi bi-book me-2"></i>Τεκμηρίωση
                                </a></li>
                                <li><a class="dropdown-item" href="#" id="nav-beginner-guide">
                                    <i class="bi bi-person-check me-2"></i>Οδηγός Αρχάριων
                                </a></li>
                                <li><a class="dropdown-item" href="#" id="nav-shortcuts">
                                    <i class="bi bi-keyboard me-2"></i>Συντομεύσεις (F1)
                                </a></li>
                            </ul>
                        </li>
                        <li class="nav-item">
                            <span class="nav-link d-flex align-items-center">
                                <i class="bi bi-clock me-1"></i>
                                <span id="current-time"></span>
                            </span>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle d-flex align-items-center" href="#" role="button" data-bs-toggle="dropdown">
                                <i class="bi bi-person-circle me-1"></i>
                                <span id="staff-name"></span>
                            </a>
                            <ul class="dropdown-menu dropdown-menu-end">
                                <li><h6 class="dropdown-header">Λογαριασμός</h6></li>
                                <li><a class="dropdown-item" href="#" id="logout-btn">
                                    <i class="bi bi-box-arrow-right me-2"></i>Αποσύνδεση
                                </a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        
        <!-- Breadcrumbs -->
        <nav aria-label="breadcrumb" class="bg-light border-bottom">
            <div class="container">
                <ol class="breadcrumb py-2 mb-0" id="breadcrumbs">
                    <li class="breadcrumb-item active">
                        <i class="bi bi-house-door me-1"></i>Αρχική
                    </li>
                </ol>
            </div>
        </nav>

        <div class="container mt-4 mb-5">
            <!-- Dashboard View -->
            <div id="dashboard-view">
                <div class="row mb-4">
                    <div class="col-md-3">
                        <div class="card text-white bg-primary mb-3 dashboard-card">
                            <div class="card-body">
                                <h5 class="card-title">Συνολικά Παιδιά</h5>
                                <p class="card-text display-4" id="total-children">0</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card text-white bg-success mb-3 dashboard-card">
                            <div class="card-body">
                                <h5 class="card-title">Συνολικό Υπόλοιπο</h5>
                                <p class="card-text display-4" id="total-balance">0€</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card text-white bg-info mb-3 dashboard-card">
                            <div class="card-body">
                                <h5 class="card-title">Συναλλαγές Σήμερα</h5>
                                <p class="card-text display-4" id="today-transactions">0</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card text-white bg-warning mb-3 dashboard-card">
                            <div class="card-body">
                                <h5 class="card-title">Ενεργές Ομάδες</h5>
                                <p class="card-text display-4" id="active-groups">0</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="row">
                    <div class="col-md-6">
                        <div class="card shadow-sm mb-4">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <h5 class="mb-0">Πρόσφατες Συναλλαγές</h5>
                                <a href="#" id="view-all-transactions" class="btn btn-sm btn-outline-primary">Όλες</a>
                            </div>
                            <div class="card-body">
                                <ul class="list-group" id="recent-transactions-list">
                                    <!-- Will be filled with JavaScript -->
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card shadow-sm mb-4">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <h5 class="mb-0">Γρήγορες Ενέργειες</h5>
                            </div>
                            <div class="card-body">
                                <div class="d-grid gap-2">
                                    <button id="add-child-btn" class="btn btn-primary action-button">
                                        <i class="bi bi-person-plus"></i> Προσθήκη Παιδιού
                                    </button>
                                    <button id="quick-deposit-btn" class="btn btn-success action-button">
                                        <i class="bi bi-cash-coin"></i> Γρήγορη Κατάθεση
                                    </button>
                                    <button id="quick-withdraw-btn" class="btn btn-warning action-button">
                                        <i class="bi bi-cash"></i> Γρήγορη Ανάληψη
                                    </button>
                                    <button id="backup-btn" class="btn btn-secondary action-button">
                                        <i class="bi bi-cloud-download"></i> Δημιουργία Αντιγράφου Ασφαλείας
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="row">
                    <div class="col-12">
                        <div class="card shadow-sm">
                            <div class="card-header">
                                <h5 class="mb-0">Επισκόπηση Υπολοίπων ανά Ομάδα</h5>
                            </div>
                            <div class="card-body">
                                <canvas id="dashboard-chart" height="100"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Children View -->
            <div id="children-view" class="d-none">
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <h2>Διαχείριση Παιδιών</h2>
                    <div>
                        <button class="btn btn-outline-secondary me-2" id="export-children-btn">
                            <i class="bi bi-file-earmark-excel"></i> Εξαγωγή CSV
                        </button>
                        <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addChildModal">
                            <i class="bi bi-person-plus"></i> Νέο Παιδί
                        </button>
                    </div>
                </div>
                
                <div class="card mb-4">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-4">
                                <div class="input-group">
                                    <span class="input-group-text"><i class="bi bi-search"></i></span>
                                    <input type="text" class="form-control" id="search-children" placeholder="Αναζήτηση παιδιού...">
                                </div>
                            </div>
                            <div class="col-md-3">
                                <select class="form-select" id="filter-group">
                                    <option value="">Όλες οι ομάδες</option>
                                    <option value="junior">junior</option>
                                    <option value="1η κοινότητα">1η κοινότητα</option>
                                    <option value="2η κοινότητα">2η κοινότητα</option>
                                    <option value="3η κοινότητα">3η κοινότητα</option>
                                    <option value="Πανοράματα">Πανοράματα</option>
                                    <option value="Προάστια">Προάστια</option>
                                    <option value="Ανεξάρτητη">Ανεξάρτητη</option>
                                    <option value="Ανεξάρτητες">Ανεξάρτητες</option>
                                    <option value="Ελεύθερη">Ελεύθερη</option>
                                    <option value="Πλατείες">Πλατείες</option>

                                </select>
                            </div>
                            <div class="col-md-3">
                                <select class="form-select" id="sort-children">
                                    <option value="name">Ταξινόμηση κατά Όνομα</option>
                                    <option value="balance-high">Υπόλοιπο (Υψηλό σε Χαμηλό)</option>
                                    <option value="balance-low">Υπόλοιπο (Χαμηλό σε Υψηλό)</option>
                                    <option value="age">Ηλικία</option>
                                </select>
                            </div>
                            <div class="col-md-2">
                                <button class="btn btn-outline-secondary w-100" id="reset-filters-btn">
                                    <i class="bi bi-x-circle"></i> Επαναφορά
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>ID Κατασκηνωτή</th>
                                <th>Όνομα</th>
                                <th>Επίθετο</th>
                                <th>Ηλικία</th>
                                <th>Ομάδα</th>
                                <th>Υπόλοιπο</th>
                                <th>Ημερήσιο Όριο</th>
                                <th>Ενέργειες</th>
                            </tr>
                        </thead>
                        <tbody id="children-table-body">
                            <!-- Will be filled with JavaScript -->
                        </tbody>
                    </table>
                </div>
                
                <nav aria-label="Page navigation" class="mt-4">
                    <ul class="pagination justify-content-center" id="children-pagination">
                        <!-- Will be filled with JavaScript -->
                    </ul>
                </nav>
            </div>

            <!-- Transactions View -->
            <div id="transactions-view" class="d-none">
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <h2>Ιστορικό Συναλλαγών</h2>
                    <button class="btn btn-outline-secondary" id="export-transactions-btn">
                        <i class="bi bi-file-earmark-excel"></i> Εξαγωγή CSV
                    </button>
                </div>
                
                <div class="card mb-4">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-3">
                                <div class="input-group">
                                    <span class="input-group-text">Από</span>
                                    <input type="date" class="form-control" id="date-from">
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="input-group">
                                    <span class="input-group-text">Έως</span>
                                    <input type="date" class="form-control" id="date-to">
                                </div>
                            </div>
                            <div class="col-md-3">
                                <select class="form-select" id="transaction-type-filter">
                                    <option value="">Όλοι οι τύποι</option>
                                    <option value="deposit">Καταθέσεις</option>
                                    <option value="withdraw">Αναλήψεις</option>
                                </select>
                            </div>
                            <div class="col-md-3">
                                <div class="input-group">
                                    <span class="input-group-text"><i class="bi bi-search"></i></span>
                                    <input type="text" class="form-control" id="search-transactions" placeholder="Αναζήτηση...">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="table-responsive">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>Ημερομηνία</th>
                                <th>Παιδί</th>
                                <th>ID Κατασκηνωτή</th>
                                <th>Τύπος</th>
                                <th>Ποσό</th>
                                <th>Υπάλληλος</th>
                                <th>Σημείωση</th>
                                <th>Ενέργειες</th>
                            </tr>
                        </thead>
                        <tbody id="transactions-table-body">
                            <!-- Will be filled with JavaScript -->
                        </tbody>
                    </table>
                </div>
                
                <nav aria-label="Page navigation" class="mt-4">
                    <ul class="pagination justify-content-center" id="transactions-pagination">
                        <!-- Will be filled with JavaScript -->
                    </ul>
                </nav>
            </div>
            
            <!-- Statistics View -->
            <div id="statistics-view" class="d-none">
                <h2 class="mb-4">Στατιστικά και Αναφορές</h2>
                
                <div class="row mb-4">
                    <div class="col-md-3">
                        <div class="card text-white bg-primary mb-3 dashboard-card">
                            <div class="card-body">
                                <h5 class="card-title">Συνολικά Παιδιά</h5>
                                <p class="card-text display-4" id="stat-total-children">0</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card text-white bg-success mb-3 dashboard-card">
                            <div class="card-body">
                                <h5 class="card-title">Συνολικό Υπόλοιπο</h5>
                                <p class="card-text display-4" id="stat-total-balance">0€</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card text-white bg-info mb-3 dashboard-card">
                            <div class="card-body">
                                <h5 class="card-title">Συνολικές Καταθέσεις</h5>
                                <p class="card-text display-4" id="stat-total-deposits">0€</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card text-white bg-warning mb-3 dashboard-card">
                            <div class="card-body">
                                <h5 class="card-title">Συνολικές Αναλήψεις</h5>
                                <p class="card-text display-4" id="stat-total-withdrawals">0€</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="row mb-4">
                    <div class="col-md-6">
                        <div class="card shadow-sm">
                            <div class="card-header">
                                <h5>Παιδιά ανά Ομάδα</h5>
                            </div>
                            <div class="card-body">
                                <canvas id="group-chart" height="300"></canvas>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card shadow-sm">
                            <div class="card-header">
                                <h5>Συναλλαγές ανά Ημέρα</h5>
                            </div>
                            <div class="card-body">
                                <canvas id="transactions-chart" height="300"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="row mb-4">
                    <div class="col-md-6">
                        <div class="card shadow-sm">
                            <div class="card-header">
                                <h5>Παιδιά με Υψηλότερο Υπόλοιπο</h5>
                            </div>
                            <div class="card-body">
                                <ul class="list-group" id="top-balance-list">
                                    <!-- Will be filled with JavaScript -->
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card shadow-sm">
                            <div class="card-header">
                                <h5>Παιδιά με Περισσότερες Συναλλαγές</h5>
                            </div>
                            <div class="card-body">
                                <ul class="list-group" id="top-transactions-list">
                                    <!-- Will be filled with JavaScript -->
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="row">
                    <div class="col-12">
                        <div class="card shadow-sm">
                            <div class="card-header">
                                <h5>Αναλυτικά Στατιστικά ανά Ομάδα</h5>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th>Ομάδα</th>
                                                <th>Παιδιά</th>
                                                <th>Συνολικό Υπόλοιπο</th>
                                                <th>Μέσο Υπόλοιπο</th>
                                                <th>Συνολικές Καταθέσεις</th>
                                                <th>Συνολικές Αναλήψεις</th>
                                            </tr>
                                        </thead>
                                        <tbody id="group-stats-table-body">
                                            <!-- Will be filled with JavaScript -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Στατιστικά ημερήσιων ορίων -->
                <div id="limit-stats-container" class="mt-4">
                    <!-- Θα συμπληρωθεί δυναμικά από το JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-light border-top mt-5 py-3">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <small class="text-muted">© 2025 Lazaros Paliamaxidis. All rights reserved.</small>
                </div>
                <div class="col-md-6 text-md-end">
                    <small class="text-muted">
                        Designed & Developed by 
                        <a href="mailto:pallazarosb@gmail.com" class="text-decoration-none text-primary">Lazaros Paliamaxidis</a>
                    </small>
                </div>
            </div>
        </div>
    </footer>

    <!-- Add Child Modal -->
    <div class="modal fade" id="addChildModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Προσθήκη Νέου Παιδιού</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="add-child-form">
                        <div class="mb-3">
                            <label for="child-first-name" class="form-label">Όνομα</label>
                            <input type="text" class="form-control" id="child-first-name" required>
                        </div>
                        <div class="mb-3">
                            <label for="child-last-name" class="form-label">Επίθετο</label>
                            <input type="text" class="form-control" id="child-last-name" required>
                        </div>
                        <div class="mb-3">
                            <label for="child-age" class="form-label">Ηλικία</label>
                            <input type="number" class="form-control" id="child-age" min="5" max="18" required>
                        </div>
                        <div class="mb-3">
                            <label for="child-group" class="form-label">Ομάδα</label>
                            <select class="form-select" id="child-group" required>
                                <option value="">Επιλέξτε ομάδα</option>
                                <option value="junior">junior</option>
                                <option value="1η κοινότητα">1η κοινότητα</option>
                                <option value="2η κοινότητα">2η κοινότητα</option>
                                <option value="3η κοινότητα">3η κοινότητα</option>
                                <option value="Πανοράματα">Πανοράματα</option>
                                <option value="Προάστια">Προάστια</option>
                                <option value="Ανεξάρτητη">Ανεξάρτητη</option>
                                <option value="Ανεξάρτητες">Ανεξάρτητες</option>
                                <option value="Ελεύθερη">Ελεύθερη</option>
                                <option value="Πλατείες">Πλατείες</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="child-initial-balance" class="form-label">Αρχικό Υπόλοιπο (€)</label>
                            <input type="number" class="form-control" id="child-initial-balance" min="0" value="0" required>
                        </div>
                        <div class="mb-3">
                            <label for="child-daily-limit" class="form-label">Ημερήσιο Όριο Ανάληψης (€)</label>
                            <input type="number" class="form-control" id="child-daily-limit" min="0" value="5" step="0.5">
                            <small class="form-text text-muted">Το μέγιστο ποσό που μπορεί να αποσύρει το παιδί ημερησίως. Αφήστε 0 για απεριόριστο.</small>
                        </div>
                        <div class="form-check mb-3">
                            <input type="checkbox" class="form-check-input" id="child-allow-override" checked>
                            <label class="form-check-label" for="child-allow-override">Επιτρέπεται η παράκαμψη ορίου</label>
                            <small class="d-block form-text text-muted">Επιτρέπει στο προσωπικό να παρακάμψει το ημερήσιο όριο σε ειδικές περιπτώσεις.</small>
                        </div>
                        <div class="mb-3">
                            <label for="child-notes" class="form-label">Σημειώσεις</label>
                            <textarea class="form-control" id="child-notes" rows="2"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Ακύρωση</button>
                    <button type="button" class="btn btn-primary" id="save-child-btn">Αποθήκευση</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Transaction Modal -->
    <div class="modal fade" id="transactionModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="transaction-modal-title">Νέα Συναλλαγή</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="transaction-form">
                        <div class="mb-3">
                            <label for="transaction-child" class="form-label">Παιδί</label>
                            <select class="form-select" id="transaction-child" required>
                                <!-- Options will be populated with JavaScript -->
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="transaction-type" class="form-label">Τύπος Συναλλαγής</label>
                            <select class="form-select" id="transaction-type" required>
                                <option value="deposit">Κατάθεση</option>
                                <option value="withdraw">Ανάληψη</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="transaction-amount" class="form-label">Ποσό (€)</label>
                            <input type="number" class="form-control" id="transaction-amount" min="0.01" step="0.01" required>
                        </div>
                        <div class="mb-3">
                            <label for="transaction-notes" class="form-label">Σημειώσεις</label>
                            <textarea class="form-control" id="transaction-notes" rows="2"></textarea>
                        </div>
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" id="print-receipt" checked>
                            <label class="form-check-label" for="print-receipt">
                                Εκτύπωση Απόδειξης
                            </label>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Ακύρωση</button>
                    <button type="button" class="btn btn-primary" id="save-transaction-btn">Ολοκλήρωση</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Print Receipt Modal -->
    <div class="modal fade" id="receiptModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Απόδειξη Συναλλαγής</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body" id="receipt-content">
                    <div class="receipt-container">
                        <div class="receipt-header text-center">
                            <img src="img/logo.png" alt="Pitsas Camp Logo" style="width: 100px;">
                            <h3>Pitsas Camp - Εικονική Τράπεζα</h3>
                            <p>Απόδειξη Συναλλαγής</p>
                        </div>
                        <div class="receipt-body">
                            <div class="receipt-item">
                                <span>Αριθμός Συναλλαγής:</span>
                                <span id="receipt-transaction-id"></span>
                            </div>
                            <div class="receipt-item">
                                <span>Ημερομηνία:</span>
                                <span id="receipt-date"></span>
                            </div>
                            <div class="receipt-item">
                                <span>Όνομα Παιδιού:</span>
                                <span id="receipt-child-name"></span>
                            </div>
                            <div class="receipt-item">
                                <span>ID Κατασκηνωτή:</span>
                                <span id="receipt-child-id"></span>
                            </div>
                            <div class="receipt-item">
                                <span>Τύπος Συναλλαγής:</span>
                                <span id="receipt-type"></span>
                            </div>
                            <div class="receipt-item">
                                <span>Ποσό:</span>
                                <span id="receipt-amount"></span>
                            </div>
                            <div class="receipt-item">
                                <span>Νέο Υπόλοιπο:</span>
                                <span id="receipt-balance"></span>
                            </div>
                            <div class="receipt-item">
                                <span>Υπάλληλος:</span>
                                <span id="receipt-staff"></span>
                            </div>
                            <div id="receipt-limit-info" class="d-none">
                                <!-- Θα συμπληρωθεί δυναμικά από το JavaScript -->
                            </div>
                            <div class="receipt-notes">
                                <span>Σημειώσεις:</span>
                                <p id="receipt-notes-text"></p>
                            </div>
                        </div>
                        <div class="receipt-footer text-center">
                            <p>Ευχαριστούμε για τη συναλλαγή!</p>
                            <p>Pitsas Camp - Καλοκαίρι 2025</p>
                            <hr>
                            <small class="text-muted">
                                Designed & Developed by 
                                <a href="mailto:pallazarosb@gmail.com" class="text-decoration-none">Lazaros Paliamaxidis</a>
                            </small>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Κλείσιμο</button>
                    <button type="button" class="btn btn-primary" id="print-receipt-btn">
                        <i class="bi bi-printer"></i> Εκτύπωση
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- ID Card Modal -->
    <div class="modal fade" id="idCardModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Κάρτα Κατασκηνωτή</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body" id="id-card-content">
                    <div class="id-card">
                        <div class="id-card-header">
                            <img src="img/logo.png" alt="Pitsas Camp Logo">
                            <h4>Pitsas Camp</h4>
                            <p>Κάρτα Κατασκηνωτή</p>
                        </div>
                        <div class="id-card-body">
                            <div class="id-card-photo">
                                <i class="bi bi-person-circle"></i>
                            </div>
                            <div class="id-card-info">
                                <p class="id-number" id="id-card-number"></p>
                                <p class="id-name" id="id-card-name"></p>
                                <p class="id-group" id="id-card-group"></p>
                                <p class="id-age" id="id-card-age"></p>
                            </div>
                        </div>
                        <div class="id-card-footer">
                            <div class="id-card-qr" id="id-card-qr"></div>
                            <p>Καλοκαίρι 2025</p>
                            <small>Designed by <a href="mailto:pallazarosb@gmail.com">L. Paliamaxidis</a></small>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Κλείσιμο</button>
                    <button type="button" class="btn btn-primary" id="print-id-card-btn">
                        <i class="bi bi-printer"></i> Εκτύπωση
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Backup Modal -->
    <div class="modal fade" id="backupModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Διαχείριση Αντιγράφων Ασφαλείας</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="d-grid gap-3">
                        <button class="btn btn-primary" id="create-backup-btn">
                            <i class="bi bi-cloud-download"></i> Δημιουργία Αντιγράφου
                        </button>
                        <div class="alert alert-info">
                            <i class="bi bi-info-circle"></i> Το αντίγραφο ασφαλείας θα περιέχει όλα τα δεδομένα της εφαρμογής (παιδιά, συναλλαγές, ρυθμίσεις).
                        </div>
                        <hr>
                        <h6>Επαναφορά Αντιγράφου</h6>
                        <div class="mb-3">
                            <label for="backup-file" class="form-label">Επιλογή αρχείου αντιγράφου</label>
                            <input class="form-control" type="file" id="backup-file" accept=".json">
                        </div>
                        <button class="btn btn-warning" id="restore-backup-btn" disabled>
                            <i class="bi bi-cloud-upload"></i> Επαναφορά Αντιγράφου
                        </button>
                        <div class="alert alert-warning">
                            <i class="bi bi-exclamation-triangle"></i> Προσοχή: Η επαναφορά θα αντικαταστήσει όλα τα τρέχοντα δεδομένα!
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Κλείσιμο</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Limit Override Modal -->
    <div class="modal fade" id="limitOverrideModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-warning">
                    <h5 class="modal-title">Προσοχή: Υπέρβαση Ημερήσιου Ορίου</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="alert alert-warning">
                        <i class="bi bi-exclamation-triangle-fill me-2"></i>
                        <strong>Το παιδί έχει υπερβεί το ημερήσιο όριο ανάληψης!</strong>
                    </div>
                    <div id="limit-override-details">
                        <!-- Θα συμπληρωθεί δυναμικά από το JavaScript -->
                    </div>
                    <div class="form-check mb-3">
                        <input class="form-check-input" type="checkbox" id="confirm-override">
                        <label class="form-check-label" for="confirm-override">
                            Επιβεβαιώνω την παράκαμψη του ημερήσιου ορίου για αυτή τη συναλλαγή
                        </label>
                    </div>
                    <div class="mb-3">
                        <label for="override-reason" class="form-label">Αιτιολογία Παράκαμψης</label>
                        <textarea class="form-control" id="override-reason" rows="2" required></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" id="cancel-override-btn">Ακύρωση</button>
                    <button type="button" class="btn btn-warning" id="confirm-override-btn" disabled>Παράκαμψη Ορίου</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Quick Search Modal -->
    <div class="modal fade" id="quickSearchModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Γρήγορη Αναζήτηση Παιδιού</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label for="quick-search-input" class="form-label">Αναζήτηση</label>
                        <input type="text" class="form-control" id="quick-search-input" placeholder="Όνομα, επίθετο, ή ID κατασκηνωτή..." autofocus>
                        <small class="form-text text-muted">Πληκτρολογήστε τουλάχιστον 2 χαρακτήρες για αναζήτηση</small>
                    </div>
                    <div id="quick-search-results" class="list-group">
                        <!-- Results will be populated here -->
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Κλείσιμο</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Bulk Deposit Modal -->
    <div class="modal fade" id="bulkDepositModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Ομαδική Κατάθεση</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="bulk-amount" class="form-label">Ποσό ανά Παιδί (€)</label>
                            <input type="number" class="form-control" id="bulk-amount" min="0.01" step="0.01" placeholder="10.00">
                        </div>
                        <div class="col-md-6">
                            <label for="bulk-group-filter" class="form-label">Φίλτρο Ομάδας</label>
                            <select class="form-select" id="bulk-group-filter">
                                <option value="">Όλες οι ομάδες</option>
                                <option value="junior">junior</option>
                                <option value="1η κοινότητα">1η κοινότητα</option>
                                <option value="2η κοινότητα">2η κοινότητα</option>
                                <option value="3η κοινότητα">3η κοινότητα</option>
                                <option value="Πανοράματα">Πανοράματα</option>
                                <option value="Προάστια">Προάστια</option>
                                <option value="Ανεξάρτητη">Ανεξάρτητη</option>
                                <option value="Ανεξάρτητες">Ανεξάρτητες</option>
                                <option value="Ελεύθερη">Ελεύθερη</option>
                                <option value="Πλατείες">Πλατείες</option>
                            </select>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="bulk-notes" class="form-label">Σημειώσεις</label>
                        <textarea class="form-control" id="bulk-notes" rows="2" placeholder="π.χ. Εβδομαδιαίο χαρτζιλίκι"></textarea>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <h6 class="mb-0">Επιλεγμένα Παιδιά <span class="badge bg-primary" id="bulk-selected-count">0</span></h6>
                        </div>
                        <div class="card-body" style="max-height: 300px; overflow-y: auto;">
                            <div id="bulk-children-list">
                                <!-- Children list will be populated here -->
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Ακύρωση</button>
                    <button type="button" class="btn btn-primary" id="execute-bulk-deposit" disabled>
                        Εκτέλεση Καταθέσεων
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Daily Report Modal -->
    <div class="modal fade" id="dailyReportModal" tabindex="-1">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Ημερήσια Αναφορά</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="row mb-3">
                        <div class="col-md-4">
                            <label for="report-date" class="form-label">Ημερομηνία</label>
                            <input type="date" class="form-control" id="report-date">
                        </div>
                        <div class="col-md-8">
                            <div class="d-flex gap-2 align-items-end h-100">
                                <button class="btn btn-primary" id="generate-daily-report">Δημιουργία Αναφοράς</button>
                                <button class="btn btn-outline-secondary" id="print-daily-report" disabled>
                                    <i class="bi bi-printer me-1"></i>Εκτύπωση
                                </button>
                            </div>
                        </div>
                    </div>
                    <div id="daily-report-content">
                        <div class="text-center text-muted">
                            <i class="bi bi-calendar-day" style="font-size: 3rem;"></i>
                            <p class="mt-2">Επιλέξτε ημερομηνία και πατήστε "Δημιουργία Αναφοράς"</p>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Κλείσιμο</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Settings Modal -->
    <div class="modal fade" id="settingsModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Ρυθμίσεις Εφαρμογής</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="settings-form">
                        <div class="mb-3">
                            <label for="settings-items-per-page" class="form-label">Αντικείμενα ανά Σελίδα</label>
                            <select class="form-select" id="settings-items-per-page">
                                <option value="5">5</option>
                                <option value="10">10</option>
                                <option value="20">20</option>
                                <option value="50">50</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="settings-default-limit" class="form-label">Προεπιλεγμένο Ημερήσιο Όριο (€)</label>
                            <input type="number" class="form-control" id="settings-default-limit" min="0" step="0.5" value="5">
                        </div>
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" id="settings-auto-backup">
                            <label class="form-check-label" for="settings-auto-backup">
                                Αυτόματο αντίγραφο ασφαλείας (καθημερινά)
                            </label>
                        </div>
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" id="settings-sound-notifications">
                            <label class="form-check-label" for="settings-sound-notifications">
                                Ηχητικές ειδοποιήσεις
                            </label>
                            <button type="button" class="btn btn-sm btn-outline-secondary ms-2" id="test-sound-btn">
                                <i class="bi bi-volume-up"></i> Δοκιμή
                            </button>
                        </div>
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" id="settings-dark-mode">
                            <label class="form-check-label" for="settings-dark-mode">
                                Σκοτεινή λειτουργία
                            </label>
                        </div>
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" id="settings-keyboard-shortcuts">
                            <label class="form-check-label" for="settings-keyboard-shortcuts">
                                Συντομεύσεις πληκτρολογίου
                            </label>
                            <small class="d-block form-text text-muted">Ενεργοποιεί γρήγορες συντομεύσεις (Ctrl+N για νέο παιδί, Ctrl+F για αναζήτηση κ.ά.)</small>
                        </div>
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" id="settings-smart-alerts">
                            <label class="form-check-label" for="settings-smart-alerts">
                                Έξυπνες ειδοποιήσεις
                            </label>
                            <small class="d-block form-text text-muted">Αυτόματες ειδοποιήσεις για χαμηλά υπόλοιπα, υπερβάσεις ορίων κ.ά.</small>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Ακύρωση</button>
                    <button type="button" class="btn btn-primary" id="save-settings">Αποθήκευση</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Advanced Search Modal -->
    <div class="modal fade" id="advancedSearchModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Προηγμένη Αναζήτηση</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="adv-search-text" class="form-label">Κείμενο Αναζήτησης</label>
                            <input type="text" class="form-control" id="adv-search-text" placeholder="Όνομα, επίθετο, ID...">
                        </div>
                        <div class="col-md-6">
                            <label for="adv-search-category" class="form-label">Κατηγορία</label>
                            <select class="form-select" id="adv-search-category">
                                <option value="all">Όλα</option>
                                <option value="children">Παιδιά</option>
                                <option value="transactions">Συναλλαγές</option>
                                <option value="groups">Ομάδες</option>
                            </select>
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-4">
                            <label for="adv-search-group" class="form-label">Ομάδα</label>
                            <select class="form-select" id="adv-search-group">
                                <option value="">Όλες οι ομάδες</option>
                                <option value="junior">junior</option>
                                <option value="1η κοινότητα">1η κοινότητα</option>
                                <option value="2η κοινότητα">2η κοινότητα</option>
                                <option value="3η κοινότητα">3η κοινότητα</option>
                                <option value="Πανοράματα">Πανοράματα</option>
                                <option value="Προάστια">Προάστια</option>
                                <option value="Ανεξάρτητη">Ανεξάρτητη</option>
                                <option value="Ανεξάρτητες">Ανεξάρτητες</option>
                                <option value="Ελεύθερη">Ελεύθερη</option>
                                <option value="Πλατείες">Πλατείες</option>
                            </select>
                        </div>
                        <div class="col-md-4">
                            <label for="adv-search-age-min" class="form-label">Ηλικία από</label>
                            <input type="number" class="form-control" id="adv-search-age-min" min="5" max="18">
                        </div>
                        <div class="col-md-4">
                            <label for="adv-search-age-max" class="form-label">Ηλικία έως</label>
                            <input type="number" class="form-control" id="adv-search-age-max" min="5" max="18">
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-4">
                            <label for="adv-search-balance-min" class="form-label">Υπόλοιπο από (€)</label>
                            <input type="number" class="form-control" id="adv-search-balance-min" min="0" step="0.01">
                        </div>
                        <div class="col-md-4">
                            <label for="adv-search-balance-max" class="form-label">Υπόλοιπο έως (€)</label>
                            <input type="number" class="form-control" id="adv-search-balance-max" min="0" step="0.01">
                        </div>
                        <div class="col-md-4">
                            <label for="adv-search-limit-status" class="form-label">Κατάσταση Ορίου</label>
                            <select class="form-select" id="adv-search-limit-status">
                                <option value="">Όλες</option>
                                <option value="exceeded">Υπέρβαση ορίου</option>
                                <option value="near-limit">Κοντά στο όριο</option>
                                <option value="under-limit">Εντός ορίου</option>
                            </select>
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="adv-search-date-from" class="form-label">Ημερομηνία από</label>
                            <input type="date" class="form-control" id="adv-search-date-from">
                        </div>
                        <div class="col-md-6">
                            <label for="adv-search-date-to" class="form-label">Ημερομηνία έως</label>
                            <input type="date" class="form-control" id="adv-search-date-to">
                        </div>
                    </div>
                    <div class="d-flex gap-2 mb-3">
                        <button class="btn btn-primary" id="execute-advanced-search">
                            <i class="bi bi-search"></i> Αναζήτηση
                        </button>
                        <button class="btn btn-outline-secondary" id="clear-advanced-search">
                            <i class="bi bi-x-circle"></i> Καθαρισμός
                        </button>
                        <button class="btn btn-outline-info" id="save-search-preset">
                            <i class="bi bi-bookmark"></i> Αποθήκευση Αναζήτησης
                        </button>
                    </div>
                    <div id="advanced-search-results" class="mt-3">
                        <!-- Results will be populated here -->
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Κλείσιμο</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Smart Alerts Container -->
    <div class="position-fixed top-0 start-0 w-100 p-3" style="z-index: 1060;" id="smart-alerts-container">
        <!-- Smart alerts will be inserted here -->
    </div>
    
    <!-- Keyboard Shortcuts Help Modal -->
    <div class="modal fade" id="keyboardShortcutsModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"><i class="bi bi-keyboard me-2"></i>Συντομεύσεις Πληκτρολογίου</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h6 class="fw-bold text-primary"><i class="bi bi-lightning me-1"></i>Γενικές Συντομεύσεις</h6>
                            <table class="table table-sm table-borderless">
                                <tbody>
                                    <tr><td><kbd>Ctrl</kbd> + <kbd>N</kbd></td><td>Νέο παιδί</td></tr>
                                    <tr><td><kbd>Ctrl</kbd> + <kbd>F</kbd></td><td>Αναζήτηση</td></tr>
                                    <tr><td><kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>F</kbd></td><td>Προηγμένη αναζήτηση</td></tr>
                                    <tr><td><kbd>Ctrl</kbd> + <kbd>D</kbd></td><td>Γρήγορη κατάθεση</td></tr>
                                    <tr><td><kbd>Ctrl</kbd> + <kbd>W</kbd></td><td>Γρήγορη ανάληψη</td></tr>
                                    <tr><td><kbd>Ctrl</kbd> + <kbd>B</kbd></td><td>Αντίγραφο ασφαλείας</td></tr>
                                    <tr><td><kbd>Ctrl</kbd> + <kbd>,</kbd></td><td>Ρυθμίσεις</td></tr>
                                    <tr><td><kbd>F1</kbd></td><td>Τεκμηρίωση & Βοήθεια</td></tr>
                                    <tr><td><kbd>F2</kbd></td><td>Οδηγός Αρχάριων</td></tr>
                                </tbody>
                            </table>
                            
                            <h6 class="fw-bold text-danger mt-3"><i class="bi bi-exclamation-triangle me-1"></i>Έκτακτη Ανάγκη</h6>
                            <table class="table table-sm table-borderless">
                                <tbody>
                                    <tr>
                                        <td><kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>R</kbd></td>
                                        <td>Emergency Backup Recovery</td>
                                    </tr>
                                    <tr>
                                        <td><kbd>Ctrl</kbd> + <kbd>Alt</kbd> + <kbd>F</kbd></td>
                                        <td>Focus Fix (εάν δεν μπορείτε να γράψετε)</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="col-md-6">
                            <h6 class="fw-bold text-success"><i class="bi bi-compass me-1"></i>Πλοήγηση</h6>
                            <table class="table table-sm table-borderless">
                                <tbody>
                                    <tr><td><kbd>Alt</kbd> + <kbd>1</kbd></td><td>Αρχική σελίδα</td></tr>
                                    <tr><td><kbd>Alt</kbd> + <kbd>2</kbd></td><td>Παιδιά</td></tr>
                                    <tr><td><kbd>Alt</kbd> + <kbd>3</kbd></td><td>Συναλλαγές</td></tr>
                                    <tr><td><kbd>Alt</kbd> + <kbd>4</kbd></td><td>Στατιστικά</td></tr>
                                    <tr><td><kbd>Esc</kbd></td><td>Κλείσιμο modal</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <!-- Emergency Backup Information -->
                    <div class="alert alert-warning mt-3">
                        <div class="d-flex align-items-start">
                            <i class="bi bi-shield-exclamation me-2 fs-4"></i>
                            <div>
                                <h6 class="alert-heading mb-2">🆘 Emergency Backup Recovery</h6>
                                <p class="mb-2">
                                    <strong>Χρήση:</strong> Πατήστε <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>R</kbd> εάν νομίζετε ότι έχετε χάσει δεδομένα.
                                </p>
                                <p class="mb-2">
                                    <strong>Τι κάνει:</strong> Εμφανίζει πληροφορίες για διαθέσιμα αυτόματα backup και δίνει επιλογή επαναφοράς.
                                </p>
                                <p class="mb-0">
                                    <strong>Τοποθεσία αρχείου:</strong> <code>%APPDATA%/pitsas-camp-bank/pitsas_auto_backup.json</code>
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="alert alert-info mt-3">
                        <i class="bi bi-info-circle me-2"></i>
                        <strong>Tip:</strong> Οι συντομεύσεις δεν λειτουργούν όταν γράφετε σε πεδία κειμένου. 
                        Το αυτόματο backup λειτουργεί σιωπηλά στο παρασκήνιο κάθε 30 λεπτά.
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                        <i class="bi bi-x-circle me-1"></i>Κλείσιμο
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Documentation Modal -->
    <div class="modal fade" id="documentationModal" tabindex="-1">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"><i class="bi bi-book me-2"></i>Τεκμηρίωση & Οδηγοί</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-3">
                            <div class="nav flex-column nav-pills" id="documentation-tabs" role="tablist">
                                <button class="nav-link active" id="beginner-guide-tab" data-bs-toggle="pill" data-bs-target="#beginner-guide-content" type="button" role="tab">
                                    <i class="bi bi-person-check me-2"></i>Οδηγός Αρχάριων
                                </button>
                                <button class="nav-link" id="auto-backup-tab" data-bs-toggle="pill" data-bs-target="#auto-backup-content" type="button" role="tab">
                                    <i class="bi bi-cloud-download me-2"></i>Auto Backup
                                </button>
                                <button class="nav-link" id="focus-fix-tab" data-bs-toggle="pill" data-bs-target="#focus-fix-content" type="button" role="tab">
                                    <i class="bi bi-crosshair me-2"></i>Focus Fix
                                </button>
                                <button class="nav-link" id="release-notes-tab" data-bs-toggle="pill" data-bs-target="#release-notes-content" type="button" role="tab">
                                    <i class="bi bi-file-text me-2"></i>Release Notes
                                </button>
                                <button class="nav-link" id="license-tab" data-bs-toggle="pill" data-bs-target="#license-content" type="button" role="tab">
                                    <i class="bi bi-shield-check me-2"></i>License
                                </button>
                            </div>
                        </div>
                        <div class="col-md-9">
                            <div class="tab-content" id="documentation-content">
                                <div class="tab-pane fade show active" id="beginner-guide-content" role="tabpanel">
                                    <div class="d-flex justify-content-between align-items-center mb-3">
                                        <h6><i class="bi bi-person-check me-2"></i>Οδηγός για Αρχάριους</h6>
                                        <button class="btn btn-sm btn-outline-primary" onclick="openDocumentationWindow('BEGINNER-GUIDE.md')">
                                            <i class="bi bi-box-arrow-up-right me-1"></i>Άνοιγμα σε νέο παράθυρο
                                        </button>
                                    </div>
                                    <div class="documentation-content" id="beginner-guide-html">
                                        <div class="text-center">
                                            <div class="spinner-border text-primary" role="status">
                                                <span class="visually-hidden">Φόρτωση...</span>
                                            </div>
                                            <p class="mt-2">Φόρτωση οδηγού...</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="auto-backup-content" role="tabpanel">
                                    <div class="d-flex justify-content-between align-items-center mb-3">
                                        <h6><i class="bi bi-cloud-download me-2"></i>Auto Backup System</h6>
                                        <button class="btn btn-sm btn-outline-primary" onclick="openDocumentationWindow('AUTO_BACKUP_INFO.md')">
                                            <i class="bi bi-box-arrow-up-right me-1"></i>Άνοιγμα σε νέο παράθυρο
                                        </button>
                                    </div>
                                    <div class="documentation-content" id="auto-backup-html">
                                        <div class="text-center">
                                            <div class="spinner-border text-primary" role="status">
                                                <span class="visually-hidden">Φόρτωση...</span>
                                            </div>
                                            <p class="mt-2">Φόρτωση οδηγιών backup...</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="focus-fix-content" role="tabpanel">
                                    <div class="d-flex justify-content-between align-items-center mb-3">
                                        <h6><i class="bi bi-crosshair me-2"></i>Focus Fix Guide</h6>
                                        <button class="btn btn-sm btn-outline-primary" onclick="openDocumentationWindow('FOCUS_FIX_GUIDE.md')">
                                            <i class="bi bi-box-arrow-up-right me-1"></i>Άνοιγμα σε νέο παράθυρο
                                        </button>
                                    </div>
                                    <div class="documentation-content" id="focus-fix-html">
                                        <div class="text-center">
                                            <div class="spinner-border text-primary" role="status">
                                                <span class="visually-hidden">Φόρτωση...</span>
                                            </div>
                                            <p class="mt-2">Φόρτωση οδηγιών focus...</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="release-notes-content" role="tabpanel">
                                    <div class="d-flex justify-content-between align-items-center mb-3">
                                        <h6><i class="bi bi-file-text me-2"></i>Release Notes</h6>
                                        <button class="btn btn-sm btn-outline-primary" onclick="openDocumentationWindow('RELEASE-NOTES.md')">
                                            <i class="bi bi-box-arrow-up-right me-1"></i>Άνοιγμα σε νέο παράθυρο
                                        </button>
                                    </div>
                                    <div class="documentation-content" id="release-notes-html">
                                        <div class="text-center">
                                            <div class="spinner-border text-primary" role="status">
                                                <span class="visually-hidden">Φόρτωση...</span>
                                            </div>
                                            <p class="mt-2">Φόρτωση release notes...</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="license-content" role="tabpanel">
                                    <div class="d-flex justify-content-between align-items-center mb-3">
                                        <h6><i class="bi bi-shield-check me-2"></i>License</h6>
                                        <button class="btn btn-sm btn-outline-primary" onclick="openDocumentationWindow('LICENSE')">
                                            <i class="bi bi-box-arrow-up-right me-1"></i>Άνοιγμα σε νέο παράθυρο
                                        </button>
                                    </div>
                                    <div class="documentation-content" id="license-html">
                                        <div class="text-center">
                                            <div class="spinner-border text-primary" role="status">
                                                <span class="visually-hidden">Φόρτωση...</span>
                                            </div>
                                            <p class="mt-2">Φόρτωση license...</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                        <i class="bi bi-x-circle me-1"></i>Κλείσιμο
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Documentation Window Modal -->
    <div class="modal fade" id="documentationWindowModal" tabindex="-1">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="doc-window-title"><i class="bi bi-book me-2"></i>Τεκμηρίωση</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="documentation-content" id="doc-window-content">
                        <div class="text-center">
                            <div class="spinner-border text-primary" role="status">
                                <span class="visually-hidden">Φόρτωση...</span>
                            </div>
                            <p class="mt-2">Φόρτωση τεκμηρίωσης...</p>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                        <i class="bi bi-x-circle me-1"></i>Κλείσιμο
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Excel Import Modal -->
    <div class="modal fade" id="excelImportModal" tabindex="-1">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"><i class="bi bi-file-earmark-excel me-2"></i>Εισαγωγή Παιδιών από Excel</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="container-fluid">
                        <div class="row">
                            <!-- Step 1: File Selection -->
                            <div class="col-12" id="excel-step-1">
                                <div class="card">
                                    <div class="card-header">
                                        <h6 class="mb-0"><i class="bi bi-1-circle me-2"></i>Επιλογή Αρχείου</h6>
                                    </div>
                                    <div class="card-body">
                                        <div class="text-center mb-4">
                                            <div class="excel-drop-zone" id="excel-drop-zone">
                                                <i class="bi bi-cloud-upload display-4 text-primary mb-3"></i>
                                                <h5>Σύρετε το Excel αρχείο εδώ</h5>
                                                <p class="text-muted">ή</p>
                                                <button type="button" class="btn btn-primary" id="select-excel-btn">
                                                    <i class="bi bi-file-earmark-excel me-2"></i>Επιλογή Αρχείου
                                                </button>
                                            </div>
                                        </div>
                                        <div class="alert alert-info">
                                            <h6><i class="bi bi-info-circle me-2"></i>Υποστηριζόμενες Μορφές:</h6>
                                            <ul class="mb-0">
                                                <li><strong>Excel:</strong> .xlsx, .xls</li>
                                                <li><strong>CSV:</strong> .csv</li>
                                            </ul>
                                        </div>
                                        <div class="alert alert-warning">
                                            <h6><i class="bi bi-exclamation-triangle me-2"></i>Απαιτούμενες Στήλες:</h6>
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <ul class="mb-0">
                                                        <li><strong>Όνομα</strong> (firstName)</li>
                                                        <li><strong>Επώνυμο</strong> (lastName)</li>
                                                        <li><strong>Ηλικία</strong> (age)</li>
                                                    </ul>
                                                </div>
                                                <div class="col-md-6">
                                                    <ul class="mb-0">
                                                        <li><strong>Ομάδα</strong> (group)</li>
                                                        <li><strong>Ημερήσιο Όριο</strong> (dailyLimit)</li>
                                                        <li><strong>Αρχικό Υπόλοιπο</strong> (initialBalance - προαιρετικό)</li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Step 2: Data Preview -->
                            <div class="col-12 d-none" id="excel-step-2">
                                <div class="card">
                                    <div class="card-header d-flex justify-content-between align-items-center">
                                        <h6 class="mb-0"><i class="bi bi-2-circle me-2"></i>Προεπισκόπηση Δεδομένων</h6>
                                        <button type="button" class="btn btn-sm btn-outline-secondary" id="back-to-selection">
                                            <i class="bi bi-arrow-left me-1"></i>Επιστροφή
                                        </button>
                                    </div>
                                    <div class="card-body">
                                        <div class="mb-3">
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="input-group">
                                                        <span class="input-group-text">Αρχείο:</span>
                                                        <input type="text" class="form-control" id="selected-file-name" readonly>
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="input-group">
                                                        <span class="input-group-text">Εγγραφές:</span>
                                                        <input type="text" class="form-control" id="total-records" readonly>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <!-- Column Mapping -->
                                        <div class="mb-3">
                                            <h6><i class="bi bi-arrow-left-right me-2"></i>Αντιστοίχιση Στηλών</h6>
                                            <div class="row" id="column-mapping">
                                                <!-- Dynamically populated -->
                                            </div>
                                        </div>
                                        
                                        <!-- Data Preview Table -->
                                        <div class="table-responsive" style="max-height: 400px; overflow-y: auto;">
                                            <table class="table table-striped table-hover table-sm">
                                                <thead class="table-dark sticky-top">
                                                    <tr id="preview-header">
                                                        <!-- Dynamically populated -->
                                                    </tr>
                                                </thead>
                                                <tbody id="preview-body">
                                                    <!-- Dynamically populated -->
                                                </tbody>
                                            </table>
                                        </div>
                                        
                                        <!-- Validation Results -->
                                        <div class="mt-3">
                                            <div class="alert alert-info d-none" id="validation-results">
                                                <h6><i class="bi bi-check-circle me-2"></i>Αποτελέσματα Επαλήθευσης</h6>
                                                <div class="row">
                                                    <div class="col-md-4">
                                                        <small class="text-success">✅ Έγκυρες: <span id="valid-count">0</span></small>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <small class="text-warning">⚠️ Προβλήματα: <span id="warning-count">0</span></small>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <small class="text-danger">❌ Σφάλματα: <span id="error-count">0</span></small>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Step 3: Import Options -->
                            <div class="col-12 d-none" id="excel-step-3">
                                <div class="card">
                                    <div class="card-header">
                                        <h6 class="mb-0"><i class="bi bi-3-circle me-2"></i>Επιλογές Εισαγωγής</h6>
                                    </div>
                                    <div class="card-body">
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-check">
                                                    <input class="form-check-input" type="checkbox" id="skip-duplicates" checked>
                                                    <label class="form-check-label" for="skip-duplicates">
                                                        <i class="bi bi-shield-check me-1"></i>Παράλειψη διπλότυπων
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-check">
                                                    <input class="form-check-input" type="checkbox" id="update-existing">
                                                    <label class="form-check-label" for="update-existing">
                                                        <i class="bi bi-arrow-clockwise me-1"></i>Ενημέρωση υπαρχόντων
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div class="mt-3">
                                            <label class="form-label">Προεπιλεγμένες Τιμές:</label>
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="input-group input-group-sm">
                                                        <span class="input-group-text">Ημερήσιο Όριο:</span>
                                                        <input type="number" class="form-control" id="default-daily-limit" value="10" min="0" step="0.5">
                                                        <span class="input-group-text">€</span>
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="input-group input-group-sm">
                                                        <span class="input-group-text">Αρχικό Υπόλοιπο:</span>
                                                        <input type="number" class="form-control" id="default-initial-balance" value="0" min="0" step="0.5">
                                                        <span class="input-group-text">€</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div class="mt-3">
                                            <div class="progress">
                                                <div class="progress-bar" role="progressbar" style="width: 0%" id="import-progress"></div>
                                            </div>
                                            <small class="text-muted" id="import-status">Έτοιμο για εισαγωγή...</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                        <i class="bi bi-x-circle me-1"></i>Ακύρωση
                    </button>
                    <button type="button" class="btn btn-primary d-none" id="next-step-btn">
                        <i class="bi bi-arrow-right me-1"></i>Επόμενο
                    </button>
                    <button type="button" class="btn btn-success d-none" id="import-data-btn">
                        <i class="bi bi-download me-1"></i>Εισαγωγή Δεδομένων
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Notification container -->
    <div class="toast-container position-fixed bottom-0 end-0 p-3" id="notification-container">
        <!-- Notifications will be inserted here -->
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="app.js"></script>
</body>
</html>