@echo off
chcp 65001 >nul
title Pitsas Bank Builder

echo ╔════════════════════════════════════════════════════════════════════════════════╗
echo ║                                                                                ║
echo ║                        🏗️  PITSAS BANK BUILDER  🏗️                            ║
echo ║                                                                                ║
echo ╚════════════════════════════════════════════════════════════════════════════════╝
echo.

echo 🔨 Δημιουργία εκτελέσιμου αρχείου...
echo.

REM Αλλαγή στον φάκελο του προγράμματος
cd /d "%~dp0"

REM Έλεγχος για dependencies
echo 📦 Έλεγχος εξαρτήσεων...
if not exist "node_modules" (
    echo 🚀 Εγκατάσταση εξαρτήσεων...
    npm install
    if %errorlevel% neq 0 (
        echo ❌ Σφάλμα κατά την εγκατάσταση των εξαρτήσεων!
        pause
        exit /b 1
    )
)

echo ✅ Εξαρτήσεις OK
echo.

echo 🔧 Δημιουργία build...
echo    Παρακαλώ περιμένετε...
echo.

npm run build

if %errorlevel% equ 0 (
    echo.
    echo ╔════════════════════════════════════════════════════════════════════════════════╗
    echo ║                                                                                ║
    echo ║                            ✅ BUILD ΕΠΙΤΥΧΗΣ! ✅                              ║
    echo ║                                                                                ║
    echo ║      Τα αρχεία βρίσκονται στον φάκελο: dist/                                  ║
    echo ║                                                                                ║
    echo ╚════════════════════════════════════════════════════════════════════════════════╝
    echo.
    echo 📁 Άνοιγμα φακέλου dist...
    explorer.exe "%~dp0dist"
) else (
    echo.
    echo ╔════════════════════════════════════════════════════════════════════════════════╗
    echo ║                                                                                ║
    echo ║                             ❌ BUILD ΑΠΟΤΥΧΙΑ ❌                              ║
    echo ║                                                                                ║
    echo ╚════════════════════════════════════════════════════════════════════════════════╝
)

echo.
echo Πατήστε οποιοδήποτε πλήκτρο για κλείσιμο...
pause >nul
